# ===============================================
# Secrets Vault for todo-chatbot
# ===============================================
# ⚠️  IMPORTANT: These are BASE64 ENCODED values
# 
# To generate your own secrets:
# PowerShell:
#   $secretValue = "your-secret-here"
#   [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($secretValue))
#
# Linux/Mac:
#   echo -n "your-secret-here" | base64
# ===============================================

apiVersion: v1
kind: Secret
metadata:
  name: todo-secrets
  namespace: todo-chatbot
  labels:
    app: evolution-todo
type: Opaque
data:
  # BETTER_AUTH_SECRET - Used for JWT signing
  # Default: "dev_secret_key_change_in_production" (base64 encoded)
  # TODO: Replace with your actual secret in production
  BETTER_AUTH_SECRET: ZGV2X3NlY3JldF9rZXlfY2hhbmdlX2luX3Byb2R1Y3Rpb24=
  
  # GEMINI_API_KEY - Required for AI features
  # Default: "your_gemini_key_here" (base64 encoded)
  # TODO: Replace with your actual Gemini API key
  GEMINI_API_KEY: eW91cl9nZW1pbmlfa2V5X2hlcmU=
  
  # OPENROUTER_API_KEY - Alternative AI provider
  # Default: "your_openrouter_key_here" (base64 encoded)
  # TODO: Replace with your actual OpenRouter API key (optional)
  OPENROUTER_API_KEY: eW91cl9vcGVucm91dGVyX2tleV9oZXJl

---
# ===============================================
# Secrets Generation Helper
# ===============================================
# Use this ConfigMap to store the encoding commands
# for easy reference during deployment
# ===============================================

apiVersion: v1
kind: ConfigMap
metadata:
  name: secrets-helper
  namespace: todo-chatbot
  annotations:
    description: "Helper commands for generating base64 secrets"
data:
  encode-powershell.ps1: |
    # PowerShell: Encode a secret
    $secretValue = Read-Host "Enter secret value"
    $bytes = [System.Text.Encoding]::UTF8.GetBytes($secretValue)
    $base64 = [Convert]::ToBase64String($bytes)
    Write-Host "Base64 encoded: $base64"
  
  encode-bash.sh: |
    #!/bin/bash
    # Bash: Encode a secret
    read -p "Enter secret value: " secret
    echo -n "$secret" | base64
  
  decode-bash.sh: |
    #!/bin/bash
    # Bash: Decode a secret (for verification)
    echo -n "$1" | base64 --decode
